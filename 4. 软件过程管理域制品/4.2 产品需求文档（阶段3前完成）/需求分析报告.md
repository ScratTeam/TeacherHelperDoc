## 前言

在本次实训中，我们团队需要完成的项目是陆勇老师的一个构想，在第一次全体会议与老师面对面沟通之前我们很难做到完全理解老师的想法。本份需求分析报告是我们初步的思考结果，里面涉及到的内容可能会在项目进行的过程中不断被改进。

这份文档介绍了我们即将开工的产品，以及初步的需求分析。

## 概述

### 功能概述

“课堂实时点名即时考试系统”是一个用于（大学）课程考勤的辅助性软件，分为教师端和学生端两个部分。软件将从教师的角度，为课程考勤和课堂测试提供便利，教师通过选择自己教学的课程，导入教学班学生的名单；设计当堂测验的题目；实时显示测验提交的学生以及题目的正确率；学生则可以在注册登录后，从自己的任务列表中看到相应的课程测试题目，在规定的时间内完成题目后提交。

本项目考虑实现网页端和移动端两个版本，移动端的开发主要是为了方便学生的使用，教师则可以使用网页版，进行学生信息的导入和管理。

### 技术要求

在老师的构想中，我们所搭建的系统需要满足以下要求：

**适配不同版本的数据库。** 我们并不是很同意这个观点，我们完成的不是一个需要用户复杂部署的系统，而是一个简单易用的软件，因此我们不需要适配不同版本的数据库。同时适配关系型和非关系型数据库需要很高的代价，数据库访问部分的代码不能重用，这会降低代码的可维护性。

**Web 服务器安装在老师电脑上。** 我们也并不是很同意这个观点，这样做的软件不多。如果老师出发点是限制只有现场的学生可以签到的话，不说个人 PC 是否支持数百的无线网连接，当学生很多时个人 PC 就可能无法保持那么高的 IO 吞吐量。

## 满足的需求

校园中（特别是大学校园中）迟到、早退和不上课是比较常见的现象，老师如果花较长的时间点名，则会耽误正常上课的时间；老师如果不点名，那么有些贪玩儿的同学就可能会钻空子不来上课。因此我们需要一个自动化的过程来解决这种困境，我们的项目便可以解决这个问题。

出于考勤目的，我们可以考虑制造不在场人员无法复制的信息来验证。比较直接的想法是，在教师的个人电脑上安装服务器，学生需在一定范围内才可以登录服务器，获取签到信息，但这个做法在实际实现过程中，会遇到一些障碍，比如：如果课程学生人数过多，教师的个人电脑无法承载多人次的同时访问；从教师角度来说，操作较为冗杂。如果考虑从 ARP 的层次来进行 MAC 信息的管理，也显得有些复杂。抛开技术层面，可以尝试从课堂的实时情况的反馈得到校验。比如，通过统计座位号以及前后左右的人数，整合所有人的信息，分析是否有不在场人员的伪造等操作。或者通过提高实时性，让学生在非常短的时间内提交相应信息。

出于课程考试的目的，我们需要实现：（1）支持单项选择、多项选择、填空、简答、论述等多种题型。（2）支持 Excel 或者其他表格文件的输入和导出，以实现学生信息的管理。（3）对提交结果的实时分析，包含提交的人员信息、选择题的正确率，并给出选择题的分数。（4）教师端对学生作业的审阅和批改，历史成绩的查询等基本的数据库操作，制定记分以及上交时间的规定。（5）在学生的任务栏中实时显示需要完成的课程考试，对考试设定截止时间，过期无法提交，系统按照缺交判定。

总结起来，项目提供的功能主要有以下三条：（1）签到功能：签到需要有一定的时限，可以考虑使用 MAC 进行管理。此外，学生通过输入学号姓名完成签到，为了避免格式错误造成的签到失败，有明确的提示输入的格式。（2）考试功能：发起考试应在完成签到后，学生通过输入学号来验证身份，若输入的学号没有签到，则出现提示，并拒绝其参与考试，这也能避免学生学号输入错误。（3）抽勤功能：发起抽勤应在完成签到后，系统从已签到的学生中随机抽取一名学生回答。

## 技术初定

本系统针对的是学校内日常的签到，因此服务器可以被部署到校园网内部。签到系统不会有特别大的瞬时人流量（几百），因此我们可以采用擅长单核心运算的 Node.js 后端框架。学生手机系统可能多种多样，因此我们打算使用 Ionic 2 搭建全平台的 App（iOS、Android 和 WindowsPhone）。
总结起来，需要用到的开发技术包括：基于 Angular 2 的 ionic 2 前端框架、Material Design 的设计风格、Node.js（Koa）后端框架·、基于 Mogoose 管理的 MongoDB 数据库。